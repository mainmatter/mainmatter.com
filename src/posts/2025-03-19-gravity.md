---
title: "Introducing Gravity: An Easier Way to Keep Build Artifact Sizes Under Control"
authorHandle: oscard0m_
tags: [gravity, ci, bundlesize, performance]
bio: "Oscar Dominguez, Software Engineer"
description: "Gravity monitors build artifact sizes to prevent accidental increases – right in your CI pipeline."
og:
  image: /assets/images/posts/2025-03-19-gravity/og-image.jpg
image: "/assets/images/posts/2025-03-19-gravity/man-falling-darker-gray-logo.webp"
imageAlt: "Gravity logo and backgound."
---

Build artifact sizes might not be the first thing you think about during code reviews, but keeping them in check can make a big difference. A minor update can easily lead to an unexpected size increase, and if it goes unnoticed, it could cause issues down the line.

At [Mainmatter](https://mainmatter.com), we've seen firsthand how even small changes can lead to surprising performance regressions. That's why we built [Gravity](https://gravity.ci), a tool that helps developers manage build artifact sizes directly within their CI/CD pipeline. Today, we're excited to share it with the world.

## What is Gravity?

Gravity is a tool that helps developers manage build artifact sizes directly within their CI/CD pipeline. It monitors all types of artifacts, including binaries, JavaScript bundles, images, CSS files, and more, by comparing changes in pull requests.

When artifact sizes increase, Gravity flags them, providing reviewers with a clear overview to assess whether the change is expected or needs further attention. This process streamlines code reviews, reduces the risk of human error, and helps maintain the quality and performance of your projects—whether you're building applications, libraries, or tools.

## Why Use Gravity?

☑️ **Improve review quality**

See exactly which files have changed in size. Gravity gives you a clear overview right where you need it—in your pull request.

☑️ **Maintain performance**

Identify accidental size increases early on, and catch potential performance issues before they reach production.

☑️ **Save time**

Avoid wasting time backtracking through commits. Gravity highlights size changes automatically, making code reviews faster and easier.

## How Does Gravity Work?

Gravity integrates directly into your CI/CD pipeline by combining a GitHub app, a CLI tool in your GitHub Actions, and a robust server-side analysis process. Once set up, Gravity automatically triggers an analysis every time a pull request is opened or modified. Here's a closer look at how it works:

### 1. Artifact Upload

When there are changes in a pull request, Gravity's CLI tool collects the build artifacts and uploads them to [S3](https://aws.amazon.com/s3/), and calls our server to schedule an analysis, adding you to a queue ([Redis](https://redis.io/)).

### 2. Server-Side Analysis

When it’s your turn in the queue, the analysis starts, comparing the artifact sizes in the pull request with those in the [_default branch_](https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-branches#about-the-default-branch). Gravity does **not** inspect the content of the files, focusing purely on size changes to maintain data privacy and security.

### 3. Real-Time Feedback in GitHub

Once the analysis is finished, Gravity updates the [_GitHub status check_](https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/collaborating-on-repositories-with-code-quality-features/about-status-checks) directly within the pull request.

**3.1.** If the artifact size has not increased, the status check is automatically approved, and the pull request can be merged without additional steps.

![Screenshot of Gravity Check in GitHub: Automatically approved](/assets/images/posts/2025-03-19-gravity/automatically-approved.png)

**3.2.** If Gravity detects a size increase, the status check will fail. Reviewers are prompted to access the Gravity Dashboard, where they can see a detailed breakdown of which files increased in size and by how much.

![Screenshot of Gravity Check in GitHub: It needs approval](/assets/images/posts/2025-03-19-gravity/needs-approval.png)

![Approval page](/assets/images/posts/2025-03-19-gravity/approval-page.mp4#video)

If the reviewer deems the size increase acceptable, they can approve the change directly in the Gravity Dashboard. This approval updates the status check in GitHub, allowing the pull request to proceed to merge.

![Screenshot of Gravity Check in GitHub: Approved](/assets/images/posts/2025-03-19-gravity/approved.png)

<p style="color:red">[INSERT VIDEO HERE]<p>

## See Gravity in Action

Here are 3 Development Challenges Solved by Gravity:

### 1. Prevent Oversized Asset Uploads

Whether it’s an image, video, or a PDF, uploading large assets without realizing the impact can lead to unnecessary slowdowns. Gravity catches size increases directly in the pull request, giving you the opportunity to optimize before they reach production.

<p style="color:red">[INSERT SCREENSHOTS OR OTHER DEMONSTRATION OF GRAVITY PR RUNNING IN THIS SCENARIO]<p>

### 2. Avoid Dependency Bloat

Adding a new dependency can seem like a quick win, but it might also lead to a significant increase in your build size. Gravity flags this increase early, allowing you to assess whether a lighter alternative might be a better fit for your specific use case.

<p style="color:red">[INSERT SCREENSHOTS OR OTHER DEMONSTRATION OF GRAVITY PR RUNNING IN THIS SCENARIO, I will use moment.js and data-fn as example]<p>

### 3. Manage Binary Sizes Across Projects

In any programming language, a small change in build configuration or an overlooked setting can lead to unexpectedly large binaries. Gravity highlights these size increases, prompting a review to ensure that your build remains as lean as possible.

<p style="color:red">[INSERT SCREENSHOTS OR OTHER DEMONSTRATION OF GRAVITY PR RUNNING IN THIS SCENARIO, I will use a dummy Rust project and adding/removing the `strip` flag from Cargo.toml]<p>
