<form onsubmit={{action this.submit}} state:form={{this.formState}} disabled={{this.isSubmitting}}>
  {{#if this.isSuccess}}
    <h3 class="typography.headline-3">
      Thank you for getting in touch!
    </h3>
    <p class="typography.body-text">
      We appreciate you contacting us about your project. We will get back to you shortly.
    </p>
    <p>
      <button type="submit" class="button.button">
        Send another message
      </button>
    </p>
  {{else}}
    <fieldset class="fieldset">
      <legend class="legend">
        Contact
      </legend>
      <svg class="spinner" width="58" height="58" xmlns="http://www.w3.org/2000/svg">
        <g transform="translate(2 2)" stroke-width="3" fill="none" fill-rule="evenodd">
          <circle stroke="#B3D9FF" cx="27" cy="27" r="27"></circle>
          <path d="M54 27C54 12.09 41.91 0 27 0" stroke="#007DF6"></path>
        </g>
      </svg>
      <p class="item">
        <label for="name" class="label" state:error={{this.errors.name}}>
          Name
        </label>
        <input
          class="control"
          state:error={{this.errors.name}}
          id="name"
          type="text"
          autocomplete="name"
          disabled={{this.isSubmitting}}
          oninput={{action validate}}
         />

        {{#if this.errors.name.length}}
          <p class="item-error" data-error>
            {{#each this.errors.name key='index' as |error|}}
              {{error}}
            {{/each}}
          </p>
        {{/if}}
      </p>
      <p class="item">
        <label for="email" class="label" state:error={{this.errors.email}}>
          E-Mail
        </label>
        <input
          class="control"
          state:error={{this.errors.email}}
          id="email"
          name="email"
          autocomplete="email"
          disabled={{this.isSubmitting}}
          oninput={{action validate}}
         />

        {{#if this.errors.email.length}}
          <p class="item-error" data-error>
            {{#each this.errors.email key='index' as |error|}}
              {{error}}
            {{/each}}
          </p>
        {{/if}}
      </p>
      <p class="item">
        <label for="message" class="label" state:error={{this.errors.message}}>
          Tell us about your project
        </label>
        <textarea
          class="control"
          state:error={{this.errors.message}}
          id="message"
          cols="30"
          rows="10"
          disabled={{this.isSubmitting}}
          oninput={{action validate}}
        ></textarea>
        {{#if this.errors.message.length}}
          <p class="item-error" data-error>
            {{#each this.errors.message key='index' as |error|}}
              {{error}}
            {{/each}}
          </p>
        {{/if}}
      </p>
    </fieldset>
    {{#if this.isErrored}}
      <div class="error">
        Unable to send message. Please try again or contact us at
        <a class="typography.link" href="mailto:info@simplabs.com">
          info@simplabs.com
        </a>
        .
      </div>
    {{/if}}
    <p>
      <button type="submit" class="button.button">
        {{#if this.isSubmitting}}
          Sendingâ€¦
        {{else}}
          Send message
        {{/if}}
      </button>
    </p>
  {{/if}}
</form>