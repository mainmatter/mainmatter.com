{#
A hero image with a color overlay on top

Configuration Options:
textPosition: One of 'top' 'center' or 'bottom'
textSize: One of 'small' or 'large'
color: One of the core brand colors

content: A content block with the following options:
  title: String or markup for heading. Text wrapped in <em> will have the text animation applied.
  titleTag: String, e.g. h1 or h2
  text: String or markup for body text
  linkUrl: Optional link destination
  linkText: Optional link text
  image: Path to image in the file directory
  alt: Image alt text
  loading: Valid loading attribute for HTML img

Example usage:
{% set 'content' = {
  "title": "Guiding projects and teams to <em>sustainable</em> success",
  "titleTag": "h2",
  "text": "Mainmatter is a digital product consultancy that designs and develops web applications. We realize projects with clients across the globe and teach them how along the way.",
  "linkUrl": "/services",
  "linkText": "Our Services",
  "image": "/assets/images/photos/collaboration@1200.jpg",
  "alt": "Alt text",
  "loading": "eager"
} %}
{{ colorHero('center', 'large', 'blue', false, content) }}
#}
{% from "cta-link.njk" import ctaLink %}
{%- macro colorHero(textPosition, textSize, color, content, textAnimationOffset) -%}
  {% if textAnimationOffset %}{% set textAnimationClasses = 'text-animation-offset' %}{% else %}{% set textAnimationClasses = 'text-animation' %}{% endif %}
  <section class="color-hero color-hero--{{ color }}" data-background-color="{{ color }}">
    <div class="color-hero__image-wrapper">
      {% if content.image %}
        {% image content.image, content.alt, '100vw', content.loading, 'color-hero__image', [760, 1440, 1920, 2048] %}
      {% endif %}
    </div>
    <div class="color-hero__overlay" data-color-hero></div>
    <div
      class="color-hero__container container container--lg color-hero__container--{{ textPosition }}"
    >
      <div class="color-hero__main">
        {%- set titleClass = 'color-hero__title' -%}
        {%- set titleText = content.title | safe -%}
        {%- if content.titleTag == 'h1' -%}
          {%- set titleClass = titleClass + " color-hero__title--full" -%}
        {%- endif -%}

        {%- if content.titleTag == 'h1' -%}
          <h1 class="{{ titleClass }} {{ textAnimationClasses }}">{{ titleText }}</h1>
        {%- else if content.titleTag == 'h2' -%}
          <h2 class="{{ titleClass }} {{ textAnimationClasses }}">{{ titleText }}</h2>
        {%- endif -%}
        {% if content.text %}
          <div class="color-hero__text color-hero__text--{{ textSize }}">
            {{ content.text | safe }}
          </div>
        {% endif %}
        {% if content.linkUrl %}
          {{ ctaLink(content.linkUrl, content.linkText, 'color-hero__link') }}
        {% endif %}
      </div>
    </div>
  </section>
{%- endmacro -%}
